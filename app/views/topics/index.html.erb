<div class="container mt-4">
  <div class="row">
    <div class="col-12">
      <%= link_to "Add New Topic", new_topic_path, class: "btn btn-success rounded mb-3" %>

      <table class="table table-bordered table-hover">
        <thead class="thead-dark">
          <tr>
            <th scope="col">#</th>
            <th scope="col">Title</th>
            <th scope="col">Description</th>
            <th scope="col">Posts</th>
            <th scope="col">Create Post</th>
            <th scope="col">Show Topic</th>
            <%if current_user %>
              <th scope="col">Actions</th>  
            <% end %>
          </tr>
        </thead>
        <tbody>
          <% @topics.each do |topic| %>
            <tr>
              <th scope="row"><%= topic.id %></th>
              <td><%= link_to topic.title, topic %></td>
              <td><%= topic.description %></td>
              <td><%= topic.posts.all.count %></td>
              <td><%= link_to "Create Post", new_topic_post_path(topic_id: topic.id), class: "btn btn-primary btn-sm rounded" %></td>
              <td><%= link_to "Show Topic", topic, class: "btn btn-info btn-sm rounded" %></td>
              <%if current_user && current_user==topic.user%>
                <td><%= link_to "Edit Topic", edit_topic_path(topic), class: "btn btn-warning btn-sm rounded" %></td>
              <% end %>
            </tr>
          <% end %>
        </tbody>
      </table>
    </div>
  </div>
</div>
